<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>acm_scraper.py</title>
  <style>
    /*--------------------- Layout and Typography ----------------------------*/
      body {
        font-family: 'Palatino Linotype', 'Book Antiqua', Palatino, FreeSerif, serif;
        font-size: 16px;
        line-height: 24px;
        color: #252519;
        margin: 0; padding: 0;
        background: #f5f5ff;
      }
      a {
        color: #261a3b;
      }
        a:visited {
          color: #261a3b;
        }
      p {
        margin: 0 0 15px 0;
      }
      h1, h2, h3, h4, h5, h6 {
        margin: 40px 0 15px 0;
      }
      h2, h3, h4, h5, h6 {
          margin-top: 0;
        }
      #container {
        background: white;
      }
      #container, div.section {
        position: relative;
      }
      #background {
        position: absolute;
        top: 0; left: 580px; right: 0; bottom: 0;
        background: #f5f5ff;
        border-left: 1px solid #e5e5ee;
        z-index: 0;
      }
      #jump_to, #jump_page {
        background: white;
        -webkit-box-shadow: 0 0 25px #777; -moz-box-shadow: 0 0 25px #777;
        -webkit-border-bottom-left-radius: 5px; -moz-border-radius-bottomleft: 5px;
        font: 10px Arial;
        text-transform: uppercase;
        cursor: pointer;
        text-align: right;
      }
      #jump_to, #jump_wrapper {
        position: fixed;
        right: 0; top: 0;
        padding: 5px 10px;
      }
        #jump_wrapper {
          padding: 0;
          display: none;
        }
          #jump_to:hover #jump_wrapper {
            display: block;
          }
          #jump_page {
            padding: 5px 0 3px;
            margin: 0 0 25px 25px;
          }
            #jump_page .source {
              display: block;
              padding: 5px 10px;
              text-decoration: none;
              border-top: 1px solid #eee;
            }
              #jump_page .source:hover {
                background: #f5f5ff;
              }
              #jump_page .source:first-child {
              }
      div.docs {
        float: left;
        max-width: 500px;
        min-width: 500px;
        min-height: 5px;
        padding: 10px 25px 1px 50px;
        vertical-align: top;
        text-align: left;
      }
        .docs pre {
          margin: 15px 0 15px;
          padding-left: 15px;
        }
        .docs p tt, .docs p code {
          background: #f8f8ff;
          border: 1px solid #dedede;
          font-size: 12px;
          padding: 0 0.2em;
        }
        .octowrap {
          position: relative;
        }
          .octothorpe {
            font: 12px Arial;
            text-decoration: none;
            color: #454545;
            position: absolute;
            top: 3px; left: -20px;
            padding: 1px 2px;
            opacity: 0;
            -webkit-transition: opacity 0.2s linear;
          }
            div.docs:hover .octothorpe {
              opacity: 1;
            }
      div.code {
        margin-left: 580px;
        padding: 14px 15px 16px 50px;
        vertical-align: top;
      }
        .code pre, .docs p code {
          font-size: 12px;
        }
          pre, tt, code {
            line-height: 18px;
            font-family: Monaco, Consolas, "Lucida Console", monospace;
            margin: 0; padding: 0;
          }
      div.clearall {
          clear: both;
      }


      /*---------------------- Syntax Highlighting -----------------------------*/
      td.linenos { background-color: #f0f0f0; padding-right: 10px; }
      span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
      body .hll { background-color: #ffffcc }
      body .c { color: #408080; font-style: italic }  /* Comment */
      body .err { border: 1px solid #FF0000 }         /* Error */
      body .k { color: #954121 }                      /* Keyword */
      body .o { color: #666666 }                      /* Operator */
      body .cm { color: #408080; font-style: italic } /* Comment.Multiline */
      body .cp { color: #BC7A00 }                     /* Comment.Preproc */
      body .c1 { color: #408080; font-style: italic } /* Comment.Single */
      body .cs { color: #408080; font-style: italic } /* Comment.Special */
      body .gd { color: #A00000 }                     /* Generic.Deleted */
      body .ge { font-style: italic }                 /* Generic.Emph */
      body .gr { color: #FF0000 }                     /* Generic.Error */
      body .gh { color: #000080; font-weight: bold }  /* Generic.Heading */
      body .gi { color: #00A000 }                     /* Generic.Inserted */
      body .go { color: #808080 }                     /* Generic.Output */
      body .gp { color: #000080; font-weight: bold }  /* Generic.Prompt */
      body .gs { font-weight: bold }                  /* Generic.Strong */
      body .gu { color: #800080; font-weight: bold }  /* Generic.Subheading */
      body .gt { color: #0040D0 }                     /* Generic.Traceback */
      body .kc { color: #954121 }                     /* Keyword.Constant */
      body .kd { color: #954121; font-weight: bold }  /* Keyword.Declaration */
      body .kn { color: #954121; font-weight: bold }  /* Keyword.Namespace */
      body .kp { color: #954121 }                     /* Keyword.Pseudo */
      body .kr { color: #954121; font-weight: bold }  /* Keyword.Reserved */
      body .kt { color: #B00040 }                     /* Keyword.Type */
      body .m { color: #666666 }                      /* Literal.Number */
      body .s { color: #219161 }                      /* Literal.String */
      body .na { color: #7D9029 }                     /* Name.Attribute */
      body .nb { color: #954121 }                     /* Name.Builtin */
      body .nc { color: #0000FF; font-weight: bold }  /* Name.Class */
      body .no { color: #880000 }                     /* Name.Constant */
      body .nd { color: #AA22FF }                     /* Name.Decorator */
      body .ni { color: #999999; font-weight: bold }  /* Name.Entity */
      body .ne { color: #D2413A; font-weight: bold }  /* Name.Exception */
      body .nf { color: #0000FF }                     /* Name.Function */
      body .nl { color: #A0A000 }                     /* Name.Label */
      body .nn { color: #0000FF; font-weight: bold }  /* Name.Namespace */
      body .nt { color: #954121; font-weight: bold }  /* Name.Tag */
      body .nv { color: #19469D }                     /* Name.Variable */
      body .ow { color: #AA22FF; font-weight: bold }  /* Operator.Word */
      body .w { color: #bbbbbb }                      /* Text.Whitespace */
      body .mf { color: #666666 }                     /* Literal.Number.Float */
      body .mh { color: #666666 }                     /* Literal.Number.Hex */
      body .mi { color: #666666 }                     /* Literal.Number.Integer */
      body .mo { color: #666666 }                     /* Literal.Number.Oct */
      body .sb { color: #219161 }                     /* Literal.String.Backtick */
      body .sc { color: #219161 }                     /* Literal.String.Char */
      body .sd { color: #219161; font-style: italic } /* Literal.String.Doc */
      body .s2 { color: #219161 }                     /* Literal.String.Double */
      body .se { color: #BB6622; font-weight: bold }  /* Literal.String.Escape */
      body .sh { color: #219161 }                     /* Literal.String.Heredoc */
      body .si { color: #BB6688; font-weight: bold }  /* Literal.String.Interpol */
      body .sx { color: #954121 }                     /* Literal.String.Other */
      body .sr { color: #BB6688 }                     /* Literal.String.Regex */
      body .s1 { color: #219161 }                     /* Literal.String.Single */
      body .ss { color: #19469D }                     /* Literal.String.Symbol */
      body .bp { color: #954121 }                     /* Name.Builtin.Pseudo */
      body .vc { color: #19469D }                     /* Name.Variable.Class */
      body .vg { color: #19469D }                     /* Name.Variable.Global */
      body .vi { color: #19469D }                     /* Name.Variable.Instance */
      body .il { color: #666666 }                     /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>acm_scraper.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      <p><strong> backend documentation: </strong></p>
<ol>
<li><a href="__init__.html"><strong>init</strong>.py</a></li>
<li><a href="acm_scraper.html">acm_scraper.py</a></li>
<li><a href="api.html">api.py</a></li>
<li><a href="app.html">app.py</a></li>
<li><a href="create_init_data.html">create_init_data.py</a></li>
<li><a href="models.html">models.py</a></li>
</ol>
<hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre><span></span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p><strong> acm_scraper.py </strong></p>
<ul>
<li>this module scrapes data from an ACM-DL page </li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">re</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      <h3><span id="category" href="category"> Category </span></h3>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Category</span><span class="p">():</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      <p><strong> Class to store one Categorie found in the paper </strong></p>
<p><strong> Returns: </strong></p>
<ul>
<li>None: <ul>
<li>simply there to store more information </li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">numbers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">has_children</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">children</span> <span class="o">=</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">numbers</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numbers</span> <span class="o">=</span> <span class="n">numbers</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">to_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">this</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;numbers&quot;</span><span class="p">:</span> <span class="n">this</span><span class="o">.</span><span class="n">numbers</span>
        <span class="p">}</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      <p><strong> Get all leaf Categories as a list of Strings </strong></p>
<p><strong> Args: </strong></p>
<ul>
<li>url (str): <ul>
<li>url of the paper on ACM. Url is not checked</li>
</ul>
</li>
</ul>
<p><strong> Returns: </strong></p>
<ul>
<li>leaf_list (list of str): <ul>
<li>List of Strings with the names of all Leaf categories</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_leaf_categories</span><span class="p">(</span><span class="n">url</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">soup</span> <span class="o">=</span> <span class="n">get_soup</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="n">leaf_list</span> <span class="o">=</span> <span class="n">get_categories</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">leaf_list</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      <p><strong> Args: </strong></p>
<ul>
<li>url (String): <ul>
<li>URL of the page as String</li>
</ul>
</li>
</ul>
<p><strong> Returns: </strong></p>
<ul>
<li>BeautifulSoup: <ul>
<li>soup object</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_soup</span><span class="p">(</span><span class="n">url</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">html_string</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html_string</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">soup</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <p><strong> Creates a sub-soup object </strong></p>
<p><strong> Args: </strong></p>
<ul>
<li>soup (BeautifulSoup): <ul>
<li>Beautifulsoup soup Object of the complete page</li>
</ul>
</li>
</ul>
<p><strong> Returns: </strong></p>
<ul>
<li>Beautifulsoup: <ul>
<li>a sub-soup element of the complete page</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_facts_soup</span><span class="p">(</span><span class="n">soup</span><span class="p">:</span><span class="n">BeautifulSoup</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">return</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation&quot;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      <p><strong> Get the title of the Paper </strong></p>
<p>As the Informations appear multiple times on the webpage we need to split the complete soup into sub-soups
   This should also improve the performance - at least by a little :)</p>
<p><strong> Args: </strong></p>
<ul>
<li>facts_soup (BeautifulSoup soup): <ul>
<li>sub soup of the complete page</li>
</ul>
</li>
</ul>
<p><strong> Returns: </strong></p>
<ul>
<li>String: <ul>
<li>title of the page</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_title</span><span class="p">(</span><span class="n">facts_soup</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">title</span> <span class="o">=</span> <span class="n">facts_soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;citation__title&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="k">return</span> <span class="n">title</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      <p><strong> Returns a list of the links to the authors profiles </strong></p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_authors</span><span class="p">(</span><span class="n">facts_soup</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      <p><strong> Args: </strong></p>
<ul>
<li>facts_soup (BeautifulSoup soup): <ul>
<li>sub soup</li>
</ul>
</li>
</ul>
<p><strong> Returns: </strong></p>
<ul>
<li>list: <ul>
<li>list of links to authors profiles, better to track as names can be doubled</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">authors_info</span> <span class="o">=</span> <span class="n">facts_soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;loa__item&quot;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      <p>finds all classes which contain the authors information</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">authors_profile_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">author</span> <span class="ow">in</span> <span class="n">authors_info</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      <p>Institute he/she is working at</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="n">authors_profile_link</span> <span class="o">=</span> <span class="n">author</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;author-info&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">)</span>
            <span class="n">authors_profile_link</span> <span class="o">=</span> <span class="s2">&quot;https://dl.acm.org&quot;</span> <span class="o">+</span> <span class="n">authors_profile_link</span>
            
            <span class="n">authors_profile_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">authors_profile_link</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">ae</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;AttributeError: </span><span class="si">{</span><span class="n">ae</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
    <span class="k">return</span> <span class="n">authors_profile_list</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      <p><strong> Get the Authors name from his/her profile </strong></p>
<p><strong> Args: </strong></p>
<ul>
<li>link (string): <ul>
<li>link to the authors profile</li>
</ul>
</li>
</ul>
<p><strong> Returns: </strong></p>
<ul>
<li>String: <ul>
<li>name of the Author</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">name_from_profile</span><span class="p">(</span><span class="n">link</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="s2">&quot;dl.acm.org&quot;</span> <span class="ow">in</span> <span class="n">link</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">link</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://dl.acm.org&quot;</span><span class="o">+</span><span class="n">link</span>

    <span class="k">if</span> <span class="sa">r</span><span class="s2">&quot;/author/&quot;</span> <span class="ow">in</span> <span class="n">url</span><span class="p">:</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\W\w]*\/author\/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span><span class="n">name</span><span class="p">)</span>
        <span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">n</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">n</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      <p>at recently published papers it may happen that the profile of the author is not yet linked to the paper</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="n">profile</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">profile</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;colored-block item-meta profile-meta&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;h2&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span><span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">name</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      <p><strong>Paper Id and conference Id - probably unnecessary</strong></p>
<p><strong>Args:</strong></p>
<ul>
<li>link (string): 
       *link to the paper</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>String: <ul>
<li>conferenceId.paperId</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_paper_id</span><span class="p">(</span><span class="n">link</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nb">id</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;https:\/\/dl\.acm\.org\/doi\/[\d*\.\d*]+\/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">link</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">id</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <p><strong>Get the name of the conference by the link of the paper</strong></p>
<p><strong>Args:</strong></p>
<ul>
<li>link (string): <ul>
<li>link of the paper    </li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>String: <ul>
<li>name of the conference the paper was published under</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_conference</span><span class="p">(</span><span class="n">link</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      <p>first you have to remove the paperid from the link to get the conference link</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\W\w]*\/\d{4,}.\d{4,}&quot;</span><span class="p">,</span> <span class="n">link</span><span class="p">):</span>
        <span class="n">conf_link</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\.\d{5,}&#39;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">link</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">conf_link</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">&quot;lxml&quot;</span><span class="p">)</span>

        <span class="n">conference</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s2">&quot;left-bordered-title&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">conference</span> <span class="o">=</span> <span class="s2">&quot;Not published with a Conference&quot;</span>
    <span class="k">return</span> <span class="n">conference</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      <p><strong>Get a list of the leaf Categories</strong></p>
<ul>
<li>for an explanation how the children categories are identified have a look at the comments for get_infos_of_cat_link(link) there is a more in-depth explanation of how the links to the categories are build</li>
</ul>
<p><strong>Args:</strong></p>
<ul>
<li>soup (BeautifulSoup): <ul>
<li>the soup of the complete website</li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>list (String): <ul>
<li>list of the names of the leaf categories</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_categories</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">organizational_chart</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;ol&quot;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">&quot;rlist organizational-chart&quot;</span><span class="p">)</span>     
    <span class="n">categories_container</span> <span class="o">=</span> <span class="n">organizational_chart</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">)</span>
    <span class="n">categories_text</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">categories_list</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">leaf_categories_list</span> <span class="o">=</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      <p>creates Categorie objects and appends them to a list</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">for</span> <span class="n">categorie</span> <span class="ow">in</span> <span class="n">categories_container</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">name</span> <span class="o">=</span> <span class="n">categorie</span><span class="o">.</span><span class="n">text</span> 
            <span class="n">numbers</span> <span class="o">=</span> <span class="n">get_infos_of_cat_link</span><span class="p">(</span><span class="n">categorie</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;href&quot;</span><span class="p">))</span>
            <span class="n">cat</span> <span class="o">=</span> <span class="n">Category</span><span class="p">(</span><span class="n">numbers</span><span class="p">,</span><span class="n">name</span><span class="p">)</span>
            <span class="n">categories_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>

        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
             <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      <p>checks if the categorie has children or not</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">for</span> <span class="n">categorie</span> <span class="ow">in</span> <span class="n">categories_list</span><span class="p">:</span>
        
        <span class="n">rest_cats</span> <span class="o">=</span> <span class="p">[</span><span class="n">cat</span><span class="o">.</span><span class="n">numbers</span> <span class="k">for</span> <span class="n">cat</span> <span class="ow">in</span> <span class="n">categories_list</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">cat</span> <span class="o">==</span> <span class="n">categorie</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      <p>rest_cats is a list of the remaining categories</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">rest_numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">nr</span> <span class="k">for</span> <span class="n">sublist</span> <span class="ow">in</span> <span class="n">rest_cats</span> <span class="k">for</span> <span class="n">nr</span> <span class="ow">in</span> <span class="n">sublist</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      <p>list comprehension puts all numbers in one list</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">last_number</span> <span class="o">=</span> <span class="n">categorie</span><span class="o">.</span><span class="n">numbers</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">last_number</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">rest_numbers</span><span class="p">:</span>
            <span class="n">categorie</span><span class="o">.</span><span class="n">has_children</span> <span class="o">=</span> <span class="kc">False</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      <p>appends leaf categories to a list</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">for</span> <span class="n">categorie</span> <span class="ow">in</span> <span class="n">categories_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">categorie</span><span class="o">.</span><span class="n">has_children</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">leaf_categories_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">categorie</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>


    <span class="k">return</span> <span class="n">leaf_categories_list</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      <hr />
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      <p><strong>get all category numbers from a given link</strong></p>
<p>a link to a category is build up like this:
   https://dl.acm.org/topic/ccs2012/10003120.10003138.10003141?SeriesKey=imwut&amp;expand=all</p>
<p>first we remove everything after the ?</p>
<p>https://dl.acm.org/topic/ccs2012/10003120.10003138.10003141</p>
<p>then everthing before the last /</p>
<p>10003120.10003138.10003141</p>
<p>these 3 numbers indicate that this category has 2 parent categories
   these 3 numbers are then split by the . and are put into a list which is returned</p>
<p>If a category number is later found more then once you can be sure that this is NOT a leaf category.
   This is because the link to the first parent category looks like this:</p>
<p>https://dl.acm.org/topic/ccs2012/10003120.10003138</p>
<p><strong>Args:</strong></p>
<ul>
<li>link (link to a (sub-) category): <ul>
<li>this link contains all parent categories numbers</li>
</ul>
</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>list(int): <ul>
<li>SList of Integers to all the parent categories</li>
</ul>
</li>
</ul>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">get_infos_of_cat_link</span><span class="p">(</span><span class="n">link</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">categories_numbers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">cat_string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\?[\w*\W*]*&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">link</span><span class="p">)</span>

    <span class="n">cat_string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;[\w*\W*]*\/&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">cat_string</span><span class="p">)</span>

    <span class="n">categories_numbers</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\.&quot;</span><span class="p">,</span> <span class="n">cat_string</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">categories_numbers</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
